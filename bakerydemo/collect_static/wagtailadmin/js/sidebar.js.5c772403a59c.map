{"version":3,"sources":["webpack://wagtail/webpack/runtime/chunk loaded","webpack://wagtail/./node_modules/js-cookie/src/js.cookie.js","webpack://wagtail/./client/src/components/PageExplorer/PageCount.tsx","webpack://wagtail/./client/src/components/PageExplorer/PageExplorer.tsx","webpack://wagtail/./client/src/components/PageExplorer/PageExplorerHeader.tsx","webpack://wagtail/./client/src/components/PageExplorer/PageExplorerItem.tsx","webpack://wagtail/./client/src/components/PageExplorer/PageExplorerPanel.tsx","webpack://wagtail/./client/src/components/PageExplorer/actions.ts","webpack://wagtail/./client/src/components/PageExplorer/index.tsx","webpack://wagtail/./client/src/components/PageExplorer/reducers/explorer.ts","webpack://wagtail/./client/src/components/PageExplorer/reducers/nodes.ts","webpack://wagtail/./client/src/components/Sidebar/Sidebar.tsx","webpack://wagtail/./client/src/components/Sidebar/SidebarPanel.tsx","webpack://wagtail/./client/src/components/Sidebar/index.tsx","webpack://wagtail/./client/src/components/Sidebar/menu/LinkMenuItem.tsx","webpack://wagtail/./client/src/components/Sidebar/menu/PageExplorerMenuItem.tsx","webpack://wagtail/./client/src/components/Sidebar/menu/SubMenuItem.tsx","webpack://wagtail/./client/src/components/Sidebar/modules/MainMenu.tsx","webpack://wagtail/./client/src/components/Sidebar/modules/Search.tsx","webpack://wagtail/./client/src/components/Sidebar/modules/WagtailBranding.tsx","webpack://wagtail/./client/src/entrypoints/admin/sidebar.js","webpack://wagtail/webpack/bootstrap","webpack://wagtail/webpack/runtime/compat get default export","webpack://wagtail/webpack/runtime/define property getters","webpack://wagtail/webpack/runtime/global","webpack://wagtail/webpack/runtime/harmony module decorator","webpack://wagtail/webpack/runtime/hasOwnProperty shorthand","webpack://wagtail/webpack/runtime/make namespace object","webpack://wagtail/webpack/runtime/runtimeId","webpack://wagtail/webpack/runtime/jsonp chunk loading","webpack://wagtail/webpack/startup"],"names":["deferred","factory","extend","i","result","arguments","length","attributes","key","decode","s","replace","decodeURIComponent","init","converter","api","set","value","document","path","defaults","expires","Date","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","get","json","jar","cookies","parts","slice","join","charAt","name","read","parse","getJSON","remove","withConverter","module","exports","__importDefault","this","mod","__esModule","react_1","wagtailConfig_1","Icon_1","_a","page","count","children","createElement","href","ADMIN_URLS","PAGES","id","className","STRINGS","SEE_ALL","PAGE","toLowerCase","__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","__setModuleDefault","v","__importStar","prototype","hasOwnProperty","call","react_redux_1","actions","PageExplorerPanel_1","connect","state","depth","explorer","currentPageId","nodes","dispatch","gotoPage","transition","onClose","closePageExplorer","isVisible","navigate","Button_1","SelectLocale","locale","translations","options","wagtailConfig","LOCALES","filter","code","map","display_name","onChange","preventDefault","translation","target","disabled","onClick","isRoot","isSiteRoot","admin_display_title","meta","size","PublicationStatus_1","childrenIcon","_b","item","title","hasChildren","isPublished","status","live","has_unpublished_changes","localeName","parent","LOCALE_NAMES","EDIT_PAGE","VIEW_CHILD_PAGES_OF_PAGE","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","TypeError","__","constructor","LoadingSpinner_1","Transition_1","PageExplorerHeader_1","PageExplorerItem_1","PageCount_1","PageExplorerPanel","_super","props","_this","PUSH","onItemClick","bind","onHeaderClick","componentWillReceiveProps","newProps","isPush","setState","POP","stopPropagation","renderChildren","isFetchingChildren","items","NO_RESULTS","isFetchingTranslations","isError","SERVER_ERROR","render","component","label","PAGE_EXPLORER","MAX_EXPLORER_PAGES","Component","openPageExplorer","admin","actions_1","getPageSuccess","createAction","data","getPageFailure","error","getChildrenStart","getChildrenSuccess","getChildrenFailure","getChildren","offset","getPageChildren","then","nbPages","total_count","getTranslationsStart","getTranslationsSuccess","getTranslationsFailure","getTranslations","getAllPageTranslations","onlyWithChildren","openPageExplorerPrivate","getState","getPage","gotoPagePrivate","__read","n","Symbol","iterator","r","ar","next","done","push","__spreadArray","to","from","il","j","initPageExplorerStore","redux_1","redux_thunk_1","PageExplorer_1","explorer_1","nodes_1","rootReducer","combineReducers","middleware","createStore","compose","applyMiddleware","apply","window","__REDUX_DEVTOOLS_EXTENSION__","func","GOTO_PAGE","CLOSE_EXPLORER","OPEN_EXPLORER","defaultState","prevState","action","type","payload","GET_TRANSLATIONS_FAILURE","GET_CHILDREN_FAILURE","GET_PAGE_FAILURE","GET_TRANSLATIONS_SUCCESS","GET_TRANSLATIONS_START","GET_CHILDREN_SUCCESS","GET_CHILDREN_START","GET_PAGE_SUCCESS","defaultPageState","node","assign","concat","translations_1","Map","forEach","_c","newState_1","Sidebar","SIDEBAR_TRANSITION_DURATION","React","modules","currentPath","collapsedOnLoad","strings","onExpandCollapse","useState","collapsed","setCollapsed","useEffect","peeking","setPeeking","_d","visibleOnMobile","setVisibleOnMobile","checkWindowSizeIsMobile","innerWidth","_e","isMobile","setIsMobile","handleResize","addEventListener","removeEventListener","slim","_f","expandingOrCollapsing","setExpandingOrCollapsing","finishTimeout","setTimeout","clearTimeout","_g","mouseHover","setMouseHover","_h","focused","setFocused","stopPeekingTimeout","useRef","current","renderedModules","index","Fragment","TOGGLE_SIDEBAR","onMouseEnter","onMouseLeave","onFocus","onBlur","SidebarPanel","isOpen","widthPx","zIndex","style","initSidebar","SIDEBAR_COLLAPSED_COOKIE_NAME","react_dom_1","js_cookie_1","Sidebar_1","cookieOptions","sameSite","element","getElementById","rawProps","textContent","telepath","unpack","collapsedCookie","location","pathname","url","Promise","_collapsed","body","classList","add","LinkMenuItemDefinition","LinkMenuItem","isCurrent","activePath","startsWith","ctrlKey","shiftKey","metaKey","button","classNames","iconName","icon_name","classnames","PageExplorerMenuItemDefinition","PageExplorerMenuItem","LinkMenuItem_1","SidebarPanel_1","navigationPath","isActive","isInSubMenu","setIsVisible","store","startPageId","sidebarTriggerIconClassName","dialogTrigger","Provider","SubMenuItemDefinition","SubMenuItem","MainMenu_1","pathComponents","pop","parentPath","renderMenu","menuItems","footerText","footer_text","MainMenuModuleDefinition","Menu","SubMenuItem_1","menuReducer","newState","accountMenuItems","user","useReducer","accountSettingsOpen","urlPathsToNavigationPaths","walkMenu","walkingMenuItems","newPath","bestMatch","urlPath","navPath","newActivePath","onKeydown","onClickOutside","sidebar","querySelector","contains","MAIN_MENU","EDIT_YOUR_ACCOUNT","src","avatarUrl","alt","SearchModuleDefinition","SearchInput","searchUrl","role","method","onSubmit","HTMLFormElement","inputElement","htmlFor","SEARCH","placeholder","WagtailBrandingModuleDefinition","WagtailBranding","homeUrl","images","brandingLogo","useMemo","innerHTML","DASHBOARD","dangerouslySetInnerHTML","__html","lastMouseX","lastDir","dirChangeCount","isWagging","setIsWagging","desktopClassName","onMouseMove","mouseX","pageX","dir","desktopLogoBody","desktopLogoTail","desktopLogoEyeOpen","desktopLogoEyeClosed","PageExplorerMenuItem_1","WagtailBranding_1","Search_1","register","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","splice","getter","a","definition","g","globalThis","Function","hmd","Error","obj","prop","toStringTag","installedChunks","541","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"mappings":"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","file":"wagtail/admin/static/wagtailadmin/js/sidebar.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar Icon_1 = __importDefault(require(\"../Icon/Icon\"));\nvar PageCount = function (_a) {\n    var page = _a.page;\n    var count = page.children.count;\n    return (react_1[\"default\"].createElement(\"a\", { href: \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + page.id + \"/\", className: \"c-page-explorer__see-more\" },\n        wagtailConfig_1.STRINGS.SEE_ALL,\n        react_1[\"default\"].createElement(\"span\", null, \" \" + count + \" \" + (count === 1 ? wagtailConfig_1.STRINGS.PAGE.toLowerCase() : wagtailConfig_1.STRINGS.PAGES.toLowerCase())),\n        react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"arrow-right\" })));\n};\nexports[\"default\"] = PageCount;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_redux_1 = require(\"react-redux\");\nvar actions = __importStar(require(\"./actions\"));\nvar PageExplorerPanel_1 = __importDefault(require(\"./PageExplorerPanel\"));\nvar PageExplorer = function (_a) {\n    var isVisible = _a.isVisible, depth = _a.depth, currentPageId = _a.currentPageId, nodes = _a.nodes, gotoPage = _a.gotoPage, onClose = _a.onClose, navigate = _a.navigate;\n    return ((isVisible && currentPageId) ? (react_1[\"default\"].createElement(PageExplorerPanel_1[\"default\"], { depth: depth, page: nodes[currentPageId], nodes: nodes, gotoPage: gotoPage, onClose: onClose, navigate: navigate })) : null);\n};\nvar mapStateToProps = function (state) { return ({\n    depth: state.explorer.depth,\n    currentPageId: state.explorer.currentPageId,\n    nodes: state.nodes,\n}); };\nvar mapDispatchToProps = function (dispatch) { return ({\n    gotoPage: function (id, transition) { return dispatch(actions.gotoPage(id, transition)); },\n    onClose: function () { return dispatch(actions.closePageExplorer()); },\n}); };\nexports[\"default\"] = react_redux_1.connect(mapStateToProps, mapDispatchToProps)(PageExplorer);\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar Button_1 = __importDefault(require(\"../../components/Button/Button\"));\nvar Icon_1 = __importDefault(require(\"../../components/Icon/Icon\"));\nvar SelectLocale = function (_a) {\n    var locale = _a.locale, translations = _a.translations, gotoPage = _a.gotoPage;\n    var options = wagtailConfig.LOCALES\n        .filter(function (_a) {\n        var code = _a.code;\n        return code === locale || translations.get(code);\n    })\n        /* eslint-disable-next-line camelcase */\n        .map(function (_a) {\n        var code = _a.code, display_name = _a.display_name;\n        return react_1[\"default\"].createElement(\"option\", { key: code, value: code }, display_name);\n    });\n    var onChange = function (e) {\n        e.preventDefault();\n        var translation = translations.get(e.target.value);\n        if (translation) {\n            gotoPage(translation, 0);\n        }\n    };\n    return (react_1[\"default\"].createElement(\"div\", { className: \"c-page-explorer__header__select\" },\n        react_1[\"default\"].createElement(\"select\", { value: locale, onChange: onChange, disabled: options.length < 2 }, options),\n        react_1[\"default\"].createElement(\"span\", null)));\n};\n/**\n * The bar at the top of the explorer, displaying the current level\n * and allowing access back to the parent level.\n */\nvar PageExplorerHeader = function (_a) {\n    var page = _a.page, depth = _a.depth, onClick = _a.onClick, gotoPage = _a.gotoPage, navigate = _a.navigate;\n    var isRoot = depth === 0;\n    var isSiteRoot = page.id === 0;\n    return (react_1[\"default\"].createElement(\"div\", { className: \"c-page-explorer__header\" },\n        react_1[\"default\"].createElement(Button_1[\"default\"], { href: !isSiteRoot ? \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + page.id + \"/\" : wagtailConfig_1.ADMIN_URLS.PAGES, className: \"c-page-explorer__header__title\", onClick: onClick, navigate: navigate },\n            react_1[\"default\"].createElement(\"div\", { className: \"c-page-explorer__header__title__inner\" },\n                react_1[\"default\"].createElement(Icon_1[\"default\"], { name: isRoot ? 'home' : 'arrow-left', className: \"icon--explorer-header\" }),\n                react_1[\"default\"].createElement(\"span\", null, page.admin_display_title || wagtailConfig_1.STRINGS.PAGES))),\n        !isSiteRoot && page.meta.locale &&\n            page.translations &&\n            page.translations.size > 0 &&\n            react_1[\"default\"].createElement(SelectLocale, { locale: page.meta.locale, translations: page.translations, gotoPage: gotoPage })));\n};\nexports[\"default\"] = PageExplorerHeader;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar Icon_1 = __importDefault(require(\"../../components/Icon/Icon\"));\nvar Button_1 = __importDefault(require(\"../../components/Button/Button\"));\nvar PublicationStatus_1 = __importDefault(require(\"../../components/PublicationStatus/PublicationStatus\"));\n// Hoist icons in the explorer item, as it is re-rendered many times.\nvar childrenIcon = (react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"folder-inverse\", className: \"icon--menuitem\" }));\n/**\n * One menu item in the page explorer, with different available actions\n * and information depending on the metadata of the page.\n */\nvar PageExplorerItem = function (_a) {\n    var _b;\n    var item = _a.item, onClick = _a.onClick, navigate = _a.navigate;\n    var id = item.id, title = item.admin_display_title, meta = item.meta;\n    var hasChildren = meta.children.count > 0;\n    var isPublished = meta.status.live && !meta.status.has_unpublished_changes;\n    var localeName = ((_b = meta.parent) === null || _b === void 0 ? void 0 : _b.id) === 1 && meta.locale && (wagtailConfig_1.LOCALE_NAMES.get(meta.locale) || meta.locale);\n    return (react_1[\"default\"].createElement(\"div\", { className: \"c-page-explorer__item\" },\n        react_1[\"default\"].createElement(Button_1[\"default\"], { href: \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + id + \"/\", navigate: navigate, className: \"c-page-explorer__item__link\" },\n            hasChildren ? childrenIcon : null,\n            react_1[\"default\"].createElement(\"h3\", { className: \"c-page-explorer__item__title\" }, title),\n            (!isPublished || localeName) &&\n                react_1[\"default\"].createElement(\"span\", { className: \"c-page-explorer__meta\" },\n                    localeName && react_1[\"default\"].createElement(\"span\", { className: \"o-pill c-status\" }, localeName),\n                    !isPublished && react_1[\"default\"].createElement(PublicationStatus_1[\"default\"], { status: meta.status }))),\n        react_1[\"default\"].createElement(Button_1[\"default\"], { href: \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + id + \"/edit/\", className: \"c-page-explorer__item__action c-page-explorer__item__action--small\", navigate: navigate },\n            react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"edit\", title: wagtailConfig_1.STRINGS.EDIT_PAGE.replace('{title}', title), className: \"icon--item-action\" })),\n        hasChildren ? (react_1[\"default\"].createElement(Button_1[\"default\"], { className: \"c-page-explorer__item__action\", onClick: onClick, href: \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + id + \"/\", navigate: navigate },\n            react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"arrow-right\", title: wagtailConfig_1.STRINGS.VIEW_CHILD_PAGES_OF_PAGE.replace('{title}', title), className: \"icon--item-action\" }))) : null));\n};\nexports[\"default\"] = PageExplorerItem;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar LoadingSpinner_1 = __importDefault(require(\"../LoadingSpinner/LoadingSpinner\"));\nvar Transition_1 = __importStar(require(\"../Transition/Transition\"));\nvar PageExplorerHeader_1 = __importDefault(require(\"./PageExplorerHeader\"));\nvar PageExplorerItem_1 = __importDefault(require(\"./PageExplorerItem\"));\nvar PageCount_1 = __importDefault(require(\"./PageCount\"));\n/**\n * The main panel of the page explorer menu, with heading,\n * menu items, and special states.\n */\nvar PageExplorerPanel = /** @class */ (function (_super) {\n    __extends(PageExplorerPanel, _super);\n    function PageExplorerPanel(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            transition: Transition_1.PUSH,\n        };\n        _this.onItemClick = _this.onItemClick.bind(_this);\n        _this.onHeaderClick = _this.onHeaderClick.bind(_this);\n        return _this;\n    }\n    PageExplorerPanel.prototype.componentWillReceiveProps = function (newProps) {\n        var depth = this.props.depth;\n        var isPush = newProps.depth > depth;\n        this.setState({\n            transition: isPush ? Transition_1.PUSH : Transition_1.POP,\n        });\n    };\n    PageExplorerPanel.prototype.onItemClick = function (id, e) {\n        var gotoPage = this.props.gotoPage;\n        e.preventDefault();\n        e.stopPropagation();\n        gotoPage(id, 1);\n    };\n    PageExplorerPanel.prototype.onHeaderClick = function (e) {\n        var _a;\n        var _b = this.props, page = _b.page, depth = _b.depth, gotoPage = _b.gotoPage;\n        var parent = (_a = page.meta.parent) === null || _a === void 0 ? void 0 : _a.id;\n        // Note: Checking depth as well in case the user started deep in the tree\n        if (depth > 0 && parent) {\n            e.preventDefault();\n            e.stopPropagation();\n            gotoPage(parent, -1);\n        }\n    };\n    PageExplorerPanel.prototype.renderChildren = function () {\n        var _this = this;\n        var _a = this.props, page = _a.page, nodes = _a.nodes;\n        var children;\n        if (!page.isFetchingChildren && !page.children.items) {\n            children = (react_1[\"default\"].createElement(\"div\", { key: \"empty\", className: \"c-page-explorer__placeholder\" }, wagtailConfig_1.STRINGS.NO_RESULTS));\n        }\n        else {\n            children = (react_1[\"default\"].createElement(\"div\", { key: \"children\" }, page.children.items.map(function (id) { return (react_1[\"default\"].createElement(PageExplorerItem_1[\"default\"], { key: id, item: nodes[id], onClick: _this.onItemClick.bind(null, id), navigate: _this.props.navigate })); })));\n        }\n        return (react_1[\"default\"].createElement(\"div\", { className: \"c-page-explorer__drawer\" },\n            children,\n            page.isFetchingChildren || page.isFetchingTranslations ? (react_1[\"default\"].createElement(\"div\", { key: \"fetching\", className: \"c-page-explorer__placeholder\" },\n                react_1[\"default\"].createElement(LoadingSpinner_1[\"default\"], null))) : null,\n            page.isError ? (react_1[\"default\"].createElement(\"div\", { key: \"error\", className: \"c-page-explorer__placeholder\" }, wagtailConfig_1.STRINGS.SERVER_ERROR)) : null));\n    };\n    PageExplorerPanel.prototype.render = function () {\n        var _a = this.props, page = _a.page, depth = _a.depth, gotoPage = _a.gotoPage;\n        var transition = this.state.transition;\n        return (react_1[\"default\"].createElement(Transition_1[\"default\"], { name: transition, className: \"c-page-explorer\", component: \"nav\", label: wagtailConfig_1.STRINGS.PAGE_EXPLORER },\n            react_1[\"default\"].createElement(\"div\", { key: depth, className: \"c-transition-group\" },\n                react_1[\"default\"].createElement(PageExplorerHeader_1[\"default\"], { depth: depth, page: page, onClick: this.onHeaderClick, gotoPage: gotoPage, navigate: this.props.navigate }),\n                this.renderChildren(),\n                page.isError || page.children.items && page.children.count > wagtailConfig_1.MAX_EXPLORER_PAGES ? (react_1[\"default\"].createElement(PageCount_1[\"default\"], { page: page })) : null)));\n    };\n    return PageExplorerPanel;\n}(react_1[\"default\"].Component));\nexports[\"default\"] = PageExplorerPanel;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nexports.__esModule = true;\nexports.gotoPage = exports.openPageExplorer = exports.closePageExplorer = void 0;\nvar admin = __importStar(require(\"../../api/admin\"));\nvar actions_1 = require(\"../../utils/actions\");\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar getPageSuccess = actions_1.createAction('GET_PAGE_SUCCESS', function (id, data) { return ({ id: id, data: data }); });\nvar getPageFailure = actions_1.createAction('GET_PAGE_FAILURE', function (id, error) { return ({ id: id, error: error }); });\n/**\n * Gets a page from the API.\n */\nfunction getPage(id) {\n    return function (dispatch) { return admin.getPage(id).then(function (data) {\n        dispatch(getPageSuccess(id, data));\n    }, function (error) {\n        dispatch(getPageFailure(id, error));\n    }); };\n}\nvar getChildrenStart = actions_1.createAction('GET_CHILDREN_START', function (id) { return ({ id: id }); });\nvar getChildrenSuccess = actions_1.createAction('GET_CHILDREN_SUCCESS', function (id, items, meta) { return ({ id: id, items: items, meta: meta }); });\nvar getChildrenFailure = actions_1.createAction('GET_CHILDREN_FAILURE', function (id, error) { return ({ id: id, error: error }); });\n/**\n * Gets the children of a node from the API.\n */\nfunction getChildren(id, offset) {\n    if (offset === void 0) { offset = 0; }\n    return function (dispatch) {\n        dispatch(getChildrenStart(id));\n        return admin.getPageChildren(id, {\n            offset: offset,\n        }).then(function (_a) {\n            var items = _a.items, meta = _a.meta;\n            var nbPages = offset + items.length;\n            dispatch(getChildrenSuccess(id, items, meta));\n            // Load more pages if necessary. Only one request is created even though\n            // more might be needed, thus naturally throttling the loading.\n            if (nbPages < meta.total_count && nbPages < wagtailConfig_1.MAX_EXPLORER_PAGES) {\n                dispatch(getChildren(id, nbPages));\n            }\n        }, function (error) {\n            dispatch(getChildrenFailure(id, error));\n        });\n    };\n}\nvar getTranslationsStart = actions_1.createAction('GET_TRANSLATIONS_START', function (id) { return ({ id: id }); });\nvar getTranslationsSuccess = actions_1.createAction('GET_TRANSLATIONS_SUCCESS', function (id, items) { return ({ id: id, items: items }); });\nvar getTranslationsFailure = actions_1.createAction('GET_TRANSLATIONS_FAILURE', function (id, error) { return ({ id: id, error: error }); });\n/**\n * Gets the translations of a node from the API.\n */\nfunction getTranslations(id) {\n    return function (dispatch) {\n        dispatch(getTranslationsStart(id));\n        return admin.getAllPageTranslations(id, { onlyWithChildren: true }).then(function (items) {\n            dispatch(getTranslationsSuccess(id, items));\n        }, function (error) {\n            dispatch(getTranslationsFailure(id, error));\n        });\n    };\n}\nvar openPageExplorerPrivate = actions_1.createAction('OPEN_EXPLORER', function (id) { return ({ id: id }); });\nexports.closePageExplorer = actions_1.createAction('CLOSE_EXPLORER');\nfunction openPageExplorer(id) {\n    return function (dispatch, getState) {\n        var nodes = getState().nodes;\n        var page = nodes[id];\n        dispatch(openPageExplorerPrivate(id));\n        if (!page) {\n            dispatch(getChildren(id));\n            if (id !== 1) {\n                dispatch(getTranslations(id));\n            }\n        }\n        // We need to get the title of the starting page, only if it is not the site's root.\n        var isNotRoot = id !== 1;\n        if (isNotRoot) {\n            dispatch(getPage(id));\n        }\n    };\n}\nexports.openPageExplorer = openPageExplorer;\nvar gotoPagePrivate = actions_1.createAction('GOTO_PAGE', function (id, transition) { return ({ id: id, transition: transition }); });\nfunction gotoPage(id, transition) {\n    return function (dispatch, getState) {\n        var nodes = getState().nodes;\n        var page = nodes[id];\n        dispatch(gotoPagePrivate(id, transition));\n        if (page && !page.isFetchingChildren && !(page.children.count > 0)) {\n            dispatch(getChildren(id));\n        }\n        if (page && !page.isFetchingTranslations && page.translations == null) {\n            dispatch(getTranslations(id));\n        }\n    };\n}\nexports.gotoPage = gotoPage;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.initPageExplorerStore = void 0;\nvar redux_1 = require(\"redux\");\nvar redux_thunk_1 = __importDefault(require(\"redux-thunk\"));\n// import { perfMiddleware } from '../../utils/performance';\nvar PageExplorer_1 = __importDefault(require(\"./PageExplorer\"));\nvar explorer_1 = __importDefault(require(\"./reducers/explorer\"));\nvar nodes_1 = __importDefault(require(\"./reducers/nodes\"));\nvar initPageExplorerStore = function () {\n    var rootReducer = redux_1.combineReducers({\n        explorer: explorer_1[\"default\"],\n        nodes: nodes_1[\"default\"],\n    });\n    var middleware = [\n        redux_thunk_1[\"default\"],\n    ];\n    // Uncomment this to use performance measurements.\n    // if (process.env.NODE_ENV !== 'production') {\n    //   middleware.push(perfMiddleware);\n    // }\n    return redux_1.createStore(rootReducer, {}, redux_1.compose(redux_1.applyMiddleware.apply(void 0, __spreadArray([], __read(middleware))), \n    // Expose store to Redux DevTools extension.\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : function (func) { return func; }));\n};\nexports.initPageExplorerStore = initPageExplorerStore;\nexports[\"default\"] = PageExplorer_1[\"default\"];\n","\"use strict\";\nexports.__esModule = true;\nexports.GOTO_PAGE = exports.CLOSE_EXPLORER = exports.OPEN_EXPLORER = void 0;\nvar defaultState = {\n    depth: 0,\n    currentPageId: null,\n};\nexports.OPEN_EXPLORER = 'OPEN_EXPLORER';\nexports.CLOSE_EXPLORER = 'CLOSE_EXPLORER';\nexports.GOTO_PAGE = 'GOTO_PAGE';\n/**\n * Oversees the state of the explorer. Defines:\n * - Where in the page tree the explorer is at.\n * - Whether the explorer is open or not.\n */\nfunction explorer(prevState, action) {\n    if (prevState === void 0) { prevState = defaultState; }\n    switch (action.type) {\n        case exports.OPEN_EXPLORER:\n            // Provide a starting page when opening the explorer.\n            return {\n                depth: 0,\n                currentPageId: action.payload.id,\n            };\n        case exports.CLOSE_EXPLORER:\n            return defaultState;\n        case exports.GOTO_PAGE:\n            return {\n                depth: prevState.depth + action.payload.transition,\n                currentPageId: action.payload.id,\n            };\n        default:\n            return prevState;\n    }\n}\nexports[\"default\"] = explorer;\n","\"use strict\";\nexports.__esModule = true;\nexports.GET_TRANSLATIONS_FAILURE = exports.GET_CHILDREN_FAILURE = exports.GET_PAGE_FAILURE = exports.GET_TRANSLATIONS_SUCCESS = exports.GET_TRANSLATIONS_START = exports.GET_CHILDREN_SUCCESS = exports.GET_CHILDREN_START = exports.GET_PAGE_SUCCESS = void 0;\nvar explorer_1 = require(\"./explorer\");\nvar defaultPageState = {\n    id: 0,\n    isFetchingChildren: false,\n    isFetchingTranslations: false,\n    isError: false,\n    children: {\n        items: [],\n        count: 0,\n    },\n    meta: {\n        status: {\n            status: '',\n            live: false,\n            has_unpublished_changes: true\n        },\n        parent: null,\n        children: {},\n    },\n};\nexports.GET_PAGE_SUCCESS = 'GET_PAGE_SUCCESS';\nexports.GET_CHILDREN_START = 'GET_CHILDREN_START';\nexports.GET_CHILDREN_SUCCESS = 'GET_CHILDREN_SUCCESS';\nexports.GET_TRANSLATIONS_START = 'GET_TRANSLATIONS_START';\nexports.GET_TRANSLATIONS_SUCCESS = 'GET_TRANSLATIONS_SUCCESS';\nexports.GET_PAGE_FAILURE = 'GET_PAGE_FAILURE';\nexports.GET_CHILDREN_FAILURE = 'GET_CHILDREN_FAILURE';\nexports.GET_TRANSLATIONS_FAILURE = 'GET_TRANSLATIONS_FAILURE';\n/**\n * A single page node in the explorer.\n */\nvar node = function (state, action) {\n    if (state === void 0) { state = defaultPageState; }\n    switch (action.type) {\n        case exports.GET_PAGE_SUCCESS:\n            return Object.assign({}, state, action.payload.data, {\n                isError: false,\n            });\n        case exports.GET_CHILDREN_START:\n            return Object.assign({}, state, {\n                isFetchingChildren: true,\n            });\n        case exports.GET_TRANSLATIONS_START:\n            return Object.assign({}, state, {\n                isFetchingTranslations: true,\n            });\n        case exports.GET_CHILDREN_SUCCESS:\n            return Object.assign({}, state, {\n                isFetchingChildren: false,\n                isError: false,\n                children: {\n                    items: state.children.items.slice().concat(action.payload.items.map(function (item) { return item.id; })),\n                    count: action.payload.meta.total_count,\n                },\n            });\n        case exports.GET_TRANSLATIONS_SUCCESS:\n            // eslint-disable-next-line no-case-declarations\n            var translations_1 = new Map();\n            action.payload.items.forEach(function (item) {\n                translations_1.set(item.meta.locale, item.id);\n            });\n            return Object.assign({}, state, {\n                isFetchingTranslations: false,\n                isError: false,\n                translations: translations_1,\n            });\n        case exports.GET_PAGE_FAILURE:\n        case exports.GET_CHILDREN_FAILURE:\n        case exports.GET_TRANSLATIONS_FAILURE:\n            return Object.assign({}, state, {\n                isFetchingChildren: false,\n                isFetchingTranslations: true,\n                isError: true,\n            });\n        default:\n            return state;\n    }\n};\nvar defaultState = {};\n/**\n * Contains all of the page nodes in one object.\n */\nfunction nodes(state, action) {\n    var _a, _b, _c;\n    if (state === void 0) { state = defaultState; }\n    switch (action.type) {\n        case explorer_1.OPEN_EXPLORER: {\n            return Object.assign({}, state, (_a = {},\n                _a[action.payload.id] = Object.assign({}, defaultPageState),\n                _a));\n        }\n        case exports.GET_PAGE_SUCCESS:\n        case exports.GET_CHILDREN_START:\n        case exports.GET_TRANSLATIONS_START:\n        case exports.GET_PAGE_FAILURE:\n        case exports.GET_CHILDREN_FAILURE:\n        case exports.GET_TRANSLATIONS_FAILURE:\n            return Object.assign({}, state, (_b = {},\n                // Delegate logic to single-node reducer.\n                _b[action.payload.id] = node(state[action.payload.id], action),\n                _b));\n        case exports.GET_CHILDREN_SUCCESS:\n        case exports.GET_TRANSLATIONS_SUCCESS:\n            // eslint-disable-next-line no-case-declarations\n            var newState_1 = Object.assign({}, state, (_c = {},\n                _c[action.payload.id] = node(state[action.payload.id], action),\n                _c));\n            action.payload.items.forEach(function (item) {\n                newState_1[item.id] = Object.assign({}, defaultPageState, item);\n            });\n            return newState_1;\n        case explorer_1.CLOSE_EXPLORER: {\n            return defaultState;\n        }\n        default:\n            return state;\n    }\n}\nexports[\"default\"] = nodes;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.Sidebar = exports.SIDEBAR_TRANSITION_DURATION = void 0;\nvar React = __importStar(require(\"react\"));\nvar Icon_1 = __importDefault(require(\"../Icon/Icon\"));\n// Please keep in sync with $menu-transition-duration variable in `client/scss/settings/_variables.scss`\nexports.SIDEBAR_TRANSITION_DURATION = 150;\nvar Sidebar = function (_a) {\n    var modules = _a.modules, currentPath = _a.currentPath, collapsedOnLoad = _a.collapsedOnLoad, strings = _a.strings, navigate = _a.navigate, onExpandCollapse = _a.onExpandCollapse;\n    // 'collapsed' is a persistent state that is controlled by the arrow icon at the top\n    // It records the user's general preference for a collapsed/uncollapsed menu\n    // This is just a hint though, and we may still collapse the menu if the screen is too small\n    // Also, we may display the full menu temporarily in collapsed mode (see 'peeking' below)\n    var _b = __read(React.useState(collapsedOnLoad), 2), collapsed = _b[0], setCollapsed = _b[1];\n    // Call onExpandCollapse(true) if menu is initialised in collapsed state\n    React.useEffect(function () {\n        if (collapsed && onExpandCollapse) {\n            onExpandCollapse(true);\n        }\n    }, []);\n    // 'peeking' is a temporary state to allow the user to peek in the menu while it is collapsed, or hidden.\n    // When peeking is true, the menu renders as if it's not collapsed, but as an overlay instead of occupying\n    // space next to the content\n    var _c = __read(React.useState(false), 2), peeking = _c[0], setPeeking = _c[1];\n    // 'visibleOnMobile' indicates whether the sidebar is currently visible on mobile\n    // On mobile, the sidebar is completely hidden by default and must be opened manually\n    var _d = __read(React.useState(false), 2), visibleOnMobile = _d[0], setVisibleOnMobile = _d[1];\n    // Tracks whether the screen is below 800 pixels. In this state, the menu is completely hidden.\n    // State is used here in case the user changes their browser size\n    var checkWindowSizeIsMobile = function () { return window.innerWidth < 800; };\n    var _e = __read(React.useState(checkWindowSizeIsMobile()), 2), isMobile = _e[0], setIsMobile = _e[1];\n    React.useEffect(function () {\n        function handleResize() {\n            if (checkWindowSizeIsMobile()) {\n                setIsMobile(true);\n            }\n            else {\n                setIsMobile(false);\n                // Close the menu as this state is not used in desktop\n                setVisibleOnMobile(false);\n            }\n        }\n        window.addEventListener('resize', handleResize);\n        handleResize();\n        return function () { return window.removeEventListener('resize', handleResize); };\n    }, []);\n    // Whether or not to display the menu with slim layout.\n    // Separate from 'collapsed' as the menu can still be displayed with an expanded\n    // layout while in 'collapsed' mode if the user is 'peeking' into it (see above)\n    var slim = collapsed && !peeking && !isMobile;\n    // 'expandingOrCollapsing' is set to true whilst the the menu is transitioning between slim and expanded layouts\n    var _f = __read(React.useState(false), 2), expandingOrCollapsing = _f[0], setExpandingOrCollapsing = _f[1];\n    React.useEffect(function () {\n        setExpandingOrCollapsing(true);\n        var finishTimeout = setTimeout(function () {\n            setExpandingOrCollapsing(false);\n        }, exports.SIDEBAR_TRANSITION_DURATION);\n        return function () {\n            clearTimeout(finishTimeout);\n        };\n    }, [slim]);\n    var onClickCollapseToggle = function (e) {\n        e.preventDefault();\n        setCollapsed(!collapsed);\n        if (onExpandCollapse) {\n            onExpandCollapse(!collapsed);\n        }\n    };\n    var onClickOpenCloseToggle = function (e) {\n        e.preventDefault();\n        setVisibleOnMobile(!visibleOnMobile);\n        setExpandingOrCollapsing(true);\n        var finishTimeout = setTimeout(function () {\n            setExpandingOrCollapsing(false);\n        }, exports.SIDEBAR_TRANSITION_DURATION);\n        return function () {\n            clearTimeout(finishTimeout);\n        };\n    };\n    // Switch peeking on/off when the mouse cursor hovers the sidebar or focus is on the sidebar\n    var _g = __read(React.useState(false), 2), mouseHover = _g[0], setMouseHover = _g[1];\n    var _h = __read(React.useState(false), 2), focused = _h[0], setFocused = _h[1];\n    var onMouseEnterHandler = function () {\n        setMouseHover(true);\n    };\n    var onMouseLeaveHandler = function () {\n        setMouseHover(false);\n    };\n    var onFocusHandler = function () {\n        setFocused(true);\n    };\n    var onBlurHandler = function () {\n        setFocused(false);\n    };\n    // We need a stop peeking timeout to stop the sidebar moving as someone tab's though the menu\n    var stopPeekingTimeout = React.useRef(null);\n    React.useEffect(function () {\n        if (mouseHover || focused) {\n            clearTimeout(stopPeekingTimeout.current);\n            setPeeking(true);\n        }\n        else {\n            clearTimeout(stopPeekingTimeout.current);\n            stopPeekingTimeout.current = setTimeout(function () {\n                setPeeking(false);\n            }, exports.SIDEBAR_TRANSITION_DURATION);\n        }\n    }, [mouseHover, focused]);\n    // Render modules\n    var renderedModules = modules.map(function (module, index) { return module.render({\n        key: index,\n        slim: slim,\n        expandingOrCollapsing: expandingOrCollapsing,\n        currentPath: currentPath,\n        strings: strings,\n        navigate: navigate\n    }); });\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: 'sidebar'\n                + (slim ? ' sidebar--slim' : '')\n                + (isMobile ? ' sidebar--mobile' : '')\n                + ((isMobile && !visibleOnMobile) ? ' sidebar--hidden' : '') },\n            React.createElement(\"div\", { className: \"sidebar__inner\" },\n                React.createElement(\"button\", { onClick: onClickCollapseToggle, \"aria-label\": strings.TOGGLE_SIDEBAR, \"aria-expanded\": !slim, className: \"button sidebar__collapse-toggle\" }, collapsed ? React.createElement(Icon_1[\"default\"], { name: \"angle-double-right\" }) : React.createElement(Icon_1[\"default\"], { name: \"angle-double-left\" })),\n                React.createElement(\"div\", { className: \"sidebar__peek-hover-area\", onMouseEnter: onMouseEnterHandler, onMouseLeave: onMouseLeaveHandler, onFocus: onFocusHandler, onBlur: onBlurHandler }, renderedModules))),\n        React.createElement(\"button\", { onClick: onClickOpenCloseToggle, \"aria-label\": strings.TOGGLE_SIDEBAR, \"aria-expanded\": visibleOnMobile, className: 'button sidebar-nav-toggle'\n                + (isMobile ? ' sidebar-nav-toggle--mobile' : '')\n                + (visibleOnMobile ? ' sidebar-nav-toggle--open' : '') }, visibleOnMobile ? React.createElement(Icon_1[\"default\"], { name: \"cross\" }) : React.createElement(Icon_1[\"default\"], { name: \"bars\" }))));\n};\nexports.Sidebar = Sidebar;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nexports.__esModule = true;\nexports.SidebarPanel = void 0;\nvar React = __importStar(require(\"react\"));\nvar SidebarPanel = function (_a) {\n    var _b;\n    var isVisible = _a.isVisible, isOpen = _a.isOpen, depth = _a.depth, widthPx = _a.widthPx, children = _a.children;\n    var className = ('sidebar-panel'\n        + (isVisible ? ' sidebar-panel--visible' : '')\n        + (isOpen ? ' sidebar-panel--open' : ''));\n    var zIndex = -depth * 2;\n    var isClosing = isVisible && !isOpen;\n    if (isClosing) {\n        // When closing, make sure this panel displays behind any new panel that is opening\n        zIndex--;\n    }\n    var style = (_b = {},\n        // See https://github.com/frenic/csstype#what-should-i-do-when-i-get-type-errors.\n        _b['--z-index'] = zIndex,\n        _b);\n    if (widthPx) {\n        style['--width'] = widthPx + 'px';\n    }\n    return (React.createElement(\"div\", { className: className, style: style }, children));\n};\nexports.SidebarPanel = SidebarPanel;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.initSidebar = exports.SIDEBAR_COLLAPSED_COOKIE_NAME = void 0;\nvar React = __importStar(require(\"react\"));\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\nvar js_cookie_1 = __importDefault(require(\"js-cookie\"));\nvar Sidebar_1 = require(\"./Sidebar\");\nexports.SIDEBAR_COLLAPSED_COOKIE_NAME = 'wagtail_sidebar_collapsed';\nfunction initSidebar() {\n    var cookieOptions = { sameSite: 'lax' };\n    var element = document.getElementById('wagtail-sidebar');\n    var rawProps = document.getElementById('wagtail-sidebar-props');\n    var navigate = function (url) {\n        window.location.href = url;\n        // Return a promise that never resolves.\n        // This promise is used to indicate to any open submenus that the next page has loaded and it should close.\n        // As all navigation from the menu at the moment takes the user to another page, we don't need to close the menus.\n        // We will need to update this if we later add the ability to render views on the client side.\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        return new Promise(function () { });\n    };\n    if (element && (rawProps === null || rawProps === void 0 ? void 0 : rawProps.textContent)) {\n        var props = window.telepath.unpack(JSON.parse(rawProps.textContent));\n        var collapsedCookie = js_cookie_1[\"default\"].get(exports.SIDEBAR_COLLAPSED_COOKIE_NAME);\n        // Cast to boolean\n        var collapsed = !((collapsedCookie === undefined || collapsedCookie === '0'));\n        var onExpandCollapse = function (_collapsed) {\n            if (_collapsed) {\n                document.body.classList.add('sidebar-collapsed');\n                js_cookie_1[\"default\"].set(exports.SIDEBAR_COLLAPSED_COOKIE_NAME, 1, cookieOptions);\n            }\n            else {\n                document.body.classList.remove('sidebar-collapsed');\n                js_cookie_1[\"default\"].set(exports.SIDEBAR_COLLAPSED_COOKIE_NAME, 0, cookieOptions);\n            }\n        };\n        react_dom_1[\"default\"].render(React.createElement(Sidebar_1.Sidebar, { modules: props.modules, strings: wagtailConfig.STRINGS, collapsedOnLoad: collapsed, currentPath: window.location.pathname, navigate: navigate, onExpandCollapse: onExpandCollapse }), element, function () {\n            document.body.classList.add('ready');\n        });\n    }\n}\nexports.initSidebar = initSidebar;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.LinkMenuItemDefinition = exports.LinkMenuItem = void 0;\nvar React = __importStar(require(\"react\"));\nvar Icon_1 = __importDefault(require(\"../../Icon/Icon\"));\nvar LinkMenuItem = function (_a) {\n    var item = _a.item, path = _a.path, state = _a.state, dispatch = _a.dispatch, navigate = _a.navigate;\n    var isCurrent = state.activePath === path;\n    var isActive = state.activePath.startsWith(path);\n    var isInSubMenu = path.split('.').length > 2;\n    var onClick = function (e) {\n        // Do not capture click events with modifier keys or non-main buttons.\n        if (e.ctrlKey ||\n            e.shiftKey ||\n            e.metaKey ||\n            (e.button && e.button !== 0)) {\n            return;\n        }\n        e.preventDefault();\n        navigate(item.url).then(function () {\n            // Set active menu item\n            dispatch({\n                type: 'set-active-path',\n                path: path,\n            });\n            // Reset navigation path to close any open submenus\n            dispatch({\n                type: 'set-navigation-path',\n                path: '',\n            });\n        });\n    };\n    var className = ('sidebar-menu-item'\n        + (isActive ? ' sidebar-menu-item--active' : '')\n        + (isInSubMenu ? ' sidebar-menu-item--in-sub-menu' : ''));\n    return (React.createElement(\"li\", { className: className },\n        React.createElement(\"a\", { href: item.url, \"aria-current\": isCurrent ? 'page' : undefined, onClick: onClick, className: \"sidebar-menu-item__link \" + item.classNames },\n            item.iconName && React.createElement(Icon_1[\"default\"], { name: item.iconName, className: \"icon--menuitem\" }),\n            React.createElement(\"span\", { className: \"menuitem-label\" }, item.label))));\n};\nexports.LinkMenuItem = LinkMenuItem;\nvar LinkMenuItemDefinition = /** @class */ (function () {\n    function LinkMenuItemDefinition(_a) {\n        var name = _a.name, label = _a.label, url = _a.url, _b = _a.icon_name, iconName = _b === void 0 ? null : _b, _c = _a.classnames, classnames = _c === void 0 ? undefined : _c;\n        this.name = name;\n        this.label = label;\n        this.url = url;\n        this.iconName = iconName;\n        this.classNames = classnames;\n    }\n    LinkMenuItemDefinition.prototype.render = function (_a) {\n        var path = _a.path, state = _a.state, dispatch = _a.dispatch, navigate = _a.navigate;\n        return (React.createElement(exports.LinkMenuItem, { key: this.name, item: this, path: path, state: state, dispatch: dispatch, navigate: navigate }));\n    };\n    return LinkMenuItemDefinition;\n}());\nexports.LinkMenuItemDefinition = LinkMenuItemDefinition;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.PageExplorerMenuItemDefinition = exports.PageExplorerMenuItem = void 0;\nvar React = __importStar(require(\"react\"));\nvar Button_1 = __importDefault(require(\"../../Button/Button\"));\nvar Icon_1 = __importDefault(require(\"../../Icon/Icon\"));\nvar LinkMenuItem_1 = require(\"./LinkMenuItem\");\nvar react_redux_1 = require(\"react-redux\");\nvar PageExplorer_1 = __importStar(require(\"../../PageExplorer\"));\nvar actions_1 = require(\"../../PageExplorer/actions\");\nvar SidebarPanel_1 = require(\"../SidebarPanel\");\nvar Sidebar_1 = require(\"../Sidebar\");\nvar PageExplorerMenuItem = function (_a) {\n    var path = _a.path, item = _a.item, state = _a.state, dispatch = _a.dispatch, navigate = _a.navigate;\n    var isOpen = state.navigationPath.startsWith(path);\n    var isActive = isOpen || state.activePath.startsWith(path);\n    var depth = path.split('.').length;\n    var isInSubMenu = path.split('.').length > 2;\n    var _b = __read(React.useState(false), 2), isVisible = _b[0], setIsVisible = _b[1];\n    var store = React.useRef(null);\n    if (!store.current) {\n        store.current = PageExplorer_1.initPageExplorerStore();\n    }\n    React.useEffect(function () {\n        if (isOpen) {\n            // isOpen is set at the moment the user clicks the menu item\n            setIsVisible(true);\n            if (store.current) {\n                store.current.dispatch(actions_1.openPageExplorer(item.startPageId));\n            }\n        }\n        else if (!isOpen && isVisible) {\n            // When a submenu is closed, we have to wait for the close animation\n            // to finish before making it invisible\n            setTimeout(function () {\n                setIsVisible(false);\n                if (store.current) {\n                    store.current.dispatch(actions_1.closePageExplorer());\n                }\n            }, Sidebar_1.SIDEBAR_TRANSITION_DURATION);\n        }\n    }, [isOpen]);\n    var onClick = function (e) {\n        e.preventDefault();\n        // Open/close explorer\n        if (isOpen) {\n            dispatch({\n                type: 'set-navigation-path',\n                path: '',\n            });\n        }\n        else {\n            dispatch({\n                type: 'set-navigation-path',\n                path: path,\n            });\n        }\n    };\n    var className = ('sidebar-menu-item'\n        + (isActive ? ' sidebar-menu-item--active' : '')\n        + (isInSubMenu ? ' sidebar-menu-item--in-sub-menu' : ''));\n    var sidebarTriggerIconClassName = ('sidebar-sub-menu-trigger-icon'\n        + (isOpen ? ' sidebar-sub-menu-trigger-icon--open' : ''));\n    return (React.createElement(\"li\", { className: className },\n        React.createElement(Button_1[\"default\"], { dialogTrigger: true, onClick: onClick, className: \"sidebar-menu-item__link\" },\n            React.createElement(Icon_1[\"default\"], { name: \"folder-open-inverse\", className: \"icon--menuitem\" }),\n            React.createElement(\"span\", { className: \"menuitem-label\" }, item.label),\n            React.createElement(Icon_1[\"default\"], { className: sidebarTriggerIconClassName, name: \"arrow-right\" })),\n        React.createElement(\"div\", null,\n            React.createElement(SidebarPanel_1.SidebarPanel, { isVisible: isVisible, isOpen: isOpen, depth: depth, widthPx: 485 }, store.current &&\n                React.createElement(react_redux_1.Provider, { store: store.current },\n                    React.createElement(PageExplorer_1[\"default\"], { isVisible: isVisible, navigate: navigate }))))));\n};\nexports.PageExplorerMenuItem = PageExplorerMenuItem;\nvar PageExplorerMenuItemDefinition = /** @class */ (function (_super) {\n    __extends(PageExplorerMenuItemDefinition, _super);\n    function PageExplorerMenuItemDefinition(_a, startPageId) {\n        var name = _a.name, label = _a.label, url = _a.url, _b = _a.icon_name, iconName = _b === void 0 ? null : _b, _c = _a.classnames, classnames = _c === void 0 ? undefined : _c;\n        var _this = _super.call(this, { name: name, label: label, url: url, icon_name: iconName, classnames: classnames }) || this;\n        _this.startPageId = startPageId;\n        return _this;\n    }\n    PageExplorerMenuItemDefinition.prototype.render = function (_a) {\n        var path = _a.path, state = _a.state, dispatch = _a.dispatch, navigate = _a.navigate;\n        return (React.createElement(exports.PageExplorerMenuItem, { key: this.name, item: this, path: path, state: state, dispatch: dispatch, navigate: navigate }));\n    };\n    return PageExplorerMenuItemDefinition;\n}(LinkMenuItem_1.LinkMenuItemDefinition));\nexports.PageExplorerMenuItemDefinition = PageExplorerMenuItemDefinition;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.SubMenuItemDefinition = exports.SubMenuItem = void 0;\nvar React = __importStar(require(\"react\"));\nvar Icon_1 = __importDefault(require(\"../../Icon/Icon\"));\nvar MainMenu_1 = require(\"../modules/MainMenu\");\nvar SidebarPanel_1 = require(\"../SidebarPanel\");\nvar Sidebar_1 = require(\"../Sidebar\");\nvar SubMenuItem = function (_a) {\n    var path = _a.path, item = _a.item, slim = _a.slim, state = _a.state, dispatch = _a.dispatch, navigate = _a.navigate;\n    var isOpen = state.navigationPath.startsWith(path);\n    var isActive = isOpen || state.activePath.startsWith(path);\n    var depth = path.split('.').length;\n    var _b = __read(React.useState(false), 2), isVisible = _b[0], setIsVisible = _b[1];\n    React.useEffect(function () {\n        if (isOpen) {\n            // isOpen is set at the moment the user clicks the menu item\n            setIsVisible(true);\n        }\n        else if (!isOpen && isVisible) {\n            // When a submenu is closed, we have to wait for the close animation\n            // to finish before making it invisible\n            setTimeout(function () {\n                setIsVisible(false);\n            }, Sidebar_1.SIDEBAR_TRANSITION_DURATION);\n        }\n    }, [isOpen]);\n    var onClick = function (e) {\n        if (isOpen) {\n            var pathComponents = path.split('.');\n            pathComponents.pop();\n            var parentPath = pathComponents.join('.');\n            dispatch({\n                type: 'set-navigation-path',\n                path: parentPath,\n            });\n        }\n        else {\n            dispatch({\n                type: 'set-navigation-path',\n                path: path,\n            });\n        }\n        e.preventDefault();\n    };\n    var className = ('sidebar-menu-item sidebar-sub-menu-item'\n        + (isActive ? ' sidebar-menu-item--active' : '')\n        + (isOpen ? ' sidebar-sub-menu-item--open' : ''));\n    var sidebarTriggerIconClassName = ('sidebar-sub-menu-trigger-icon'\n        + (isOpen ? ' sidebar-sub-menu-trigger-icon--open' : ''));\n    return (React.createElement(\"li\", { className: className },\n        React.createElement(\"button\", { onClick: onClick, className: \"sidebar-menu-item__link \" + item.classNames, \"aria-haspopup\": \"true\", \"aria-expanded\": isOpen ? 'true' : 'false' },\n            item.iconName && React.createElement(Icon_1[\"default\"], { name: item.iconName, className: \"icon--menuitem\" }),\n            React.createElement(\"span\", { className: \"menuitem-label\" }, item.label),\n            React.createElement(Icon_1[\"default\"], { className: sidebarTriggerIconClassName, name: \"arrow-right\" })),\n        React.createElement(SidebarPanel_1.SidebarPanel, { isVisible: isVisible, isOpen: isOpen, depth: depth },\n            React.createElement(\"div\", { className: \"sidebar-sub-menu-panel\" },\n                React.createElement(\"h2\", { id: \"wagtail-sidebar-submenu\" + path.split('.').join('-') + \"-title\", className: item.classNames },\n                    item.iconName && React.createElement(Icon_1[\"default\"], { name: item.iconName, className: \"icon--submenu-header\" }),\n                    item.label),\n                React.createElement(\"ul\", { \"aria-labelledby\": \"wagtail-sidebar-submenu\" + path.split('.').join('-') + \"-title\" }, MainMenu_1.renderMenu(path, item.menuItems, slim, state, dispatch, navigate)),\n                item.footerText && React.createElement(\"p\", { className: \"sidebar-sub-menu-panel__footer\" }, item.footerText)))));\n};\nexports.SubMenuItem = SubMenuItem;\nvar SubMenuItemDefinition = /** @class */ (function () {\n    function SubMenuItemDefinition(_a, menuItems) {\n        var name = _a.name, label = _a.label, _b = _a.icon_name, iconName = _b === void 0 ? null : _b, _c = _a.classnames, classnames = _c === void 0 ? undefined : _c, _d = _a.footer_text, footerText = _d === void 0 ? '' : _d;\n        this.name = name;\n        this.label = label;\n        this.menuItems = menuItems;\n        this.iconName = iconName;\n        this.classNames = classnames;\n        this.footerText = footerText;\n    }\n    SubMenuItemDefinition.prototype.render = function (_a) {\n        var path = _a.path, slim = _a.slim, state = _a.state, dispatch = _a.dispatch, navigate = _a.navigate;\n        return (React.createElement(exports.SubMenuItem, { key: this.name, item: this, path: path, slim: slim, state: state, dispatch: dispatch, navigate: navigate }));\n    };\n    return SubMenuItemDefinition;\n}());\nexports.SubMenuItemDefinition = SubMenuItemDefinition;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.MainMenuModuleDefinition = exports.Menu = exports.renderMenu = void 0;\nvar React = __importStar(require(\"react\"));\nvar Icon_1 = __importDefault(require(\"../../Icon/Icon\"));\nvar LinkMenuItem_1 = require(\"../menu/LinkMenuItem\");\nvar SubMenuItem_1 = require(\"../menu/SubMenuItem\");\nfunction renderMenu(path, items, slim, state, dispatch, navigate) {\n    return (React.createElement(React.Fragment, null, items.map(function (item) { return item.render({\n        path: path + \".\" + item.name,\n        slim: slim,\n        state: state,\n        dispatch: dispatch,\n        navigate: navigate,\n    }); })));\n}\nexports.renderMenu = renderMenu;\nfunction menuReducer(state, action) {\n    var newState = Object.assign({}, state);\n    if (action.type === 'set-active-path') {\n        newState.activePath = action.path;\n    }\n    else if (action.type === 'set-navigation-path') {\n        newState.navigationPath = action.path;\n    }\n    return newState;\n}\nvar Menu = function (_a) {\n    var menuItems = _a.menuItems, accountMenuItems = _a.accountMenuItems, user = _a.user, expandingOrCollapsing = _a.expandingOrCollapsing, slim = _a.slim, currentPath = _a.currentPath, strings = _a.strings, navigate = _a.navigate;\n    // navigationPath and activePath are two dot-delimited path's referencing a menu item\n    // They are created by concatenating the name fields of all the menu/sub-menu items leading to the relevant one.\n    // For example, the \"Users\" item in the \"Settings\" sub-menu would have the path 'settings.users'\n    // - navigationPath references the current sub-menu that the user currently has open\n    // - activePath references the menu item for the the page the user is currently on\n    var _b = __read(React.useReducer(menuReducer, {\n        navigationPath: '',\n        activePath: '',\n    }), 2), state = _b[0], dispatch = _b[1];\n    var accountSettingsOpen = state.navigationPath.startsWith('.account');\n    // Whenever currentPath or menu changes, work out new activePath\n    React.useEffect(function () {\n        var urlPathsToNavigationPaths = [];\n        var walkMenu = function (path, walkingMenuItems) {\n            walkingMenuItems.forEach(function (item) {\n                var newPath = path + \".\" + item.name;\n                if (item instanceof LinkMenuItem_1.LinkMenuItemDefinition) {\n                    urlPathsToNavigationPaths.push([item.url, newPath]);\n                }\n                else if (item instanceof SubMenuItem_1.SubMenuItemDefinition) {\n                    walkMenu(newPath, item.menuItems);\n                }\n            });\n        };\n        walkMenu('', menuItems);\n        walkMenu('', accountMenuItems);\n        var bestMatch = null;\n        urlPathsToNavigationPaths.forEach(function (_a) {\n            var _b = __read(_a, 2), urlPath = _b[0], navPath = _b[1];\n            if (currentPath.startsWith(urlPath)) {\n                if (bestMatch == null || urlPath.length > bestMatch[0].length) {\n                    bestMatch = [urlPath, navPath];\n                }\n            }\n        });\n        var newActivePath = bestMatch ? bestMatch[1] : '';\n        if (newActivePath !== state.activePath) {\n            dispatch({\n                type: 'set-active-path',\n                path: newActivePath,\n            });\n        }\n    }, [currentPath, menuItems]);\n    React.useEffect(function () {\n        // Close submenus when user presses escape\n        var onKeydown = function (e) {\n            // IE11 uses \"Esc\" instead of \"Escape\"\n            if (e.key === 'Escape' || e.key === 'Esc') {\n                dispatch({\n                    type: 'set-navigation-path',\n                    path: ''\n                });\n            }\n        };\n        var onClickOutside = function (e) {\n            var sidebar = document.querySelector('[data-wagtail-sidebar]');\n            var isInside = sidebar && sidebar.contains(e.target);\n            if (!isInside) {\n                dispatch({\n                    type: 'set-navigation-path',\n                    path: ''\n                });\n            }\n        };\n        document.addEventListener('keydown', onKeydown);\n        document.addEventListener('mousedown', onClickOutside);\n        document.addEventListener('touchend', onClickOutside);\n        return function () {\n            document.removeEventListener('keydown', onKeydown);\n            document.removeEventListener('mousedown', onClickOutside);\n            document.removeEventListener('touchend', onClickOutside);\n        };\n    }, []);\n    // Whenever the parent Sidebar component collapses or expands, close any open menus\n    React.useEffect(function () {\n        if (expandingOrCollapsing) {\n            dispatch({\n                type: 'set-navigation-path',\n                path: ''\n            });\n        }\n    }, [expandingOrCollapsing]);\n    var onClickAccountSettings = function (e) {\n        e.preventDefault();\n        if (accountSettingsOpen) {\n            dispatch({\n                type: 'set-navigation-path',\n                path: '',\n            });\n        }\n        else {\n            dispatch({\n                type: 'set-navigation-path',\n                path: '.account',\n            });\n        }\n    };\n    var className = ('sidebar-main-menu'\n        + (accountSettingsOpen ? ' sidebar-main-menu--open-footer' : ''));\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"nav\", { className: className, \"aria-label\": strings.MAIN_MENU },\n            React.createElement(\"ul\", { className: \"sidebar-main-menu__list\" }, renderMenu('', menuItems, slim, state, dispatch, navigate))),\n        React.createElement(\"div\", { className: 'sidebar-footer' + (accountSettingsOpen ? ' sidebar-footer--open' : '') },\n            React.createElement(\"button\", { className: \"sidebar-footer__account\", title: strings.EDIT_YOUR_ACCOUNT, \"aria-label\": strings.EDIT_YOUR_ACCOUNT, onClick: onClickAccountSettings, \"aria-haspopup\": \"true\", \"aria-expanded\": accountSettingsOpen ? 'true' : 'false' },\n                React.createElement(\"div\", { className: \"avatar square avatar-on-dark\" },\n                    React.createElement(\"img\", { src: user.avatarUrl, alt: \"\" })),\n                React.createElement(\"div\", { className: \"sidebar-footer__account-toggle\" },\n                    React.createElement(\"div\", { className: \"sidebar-footer__account-label\" }, user.name),\n                    React.createElement(Icon_1[\"default\"], { className: \"sidebar-footer__account-icon\", name: (accountSettingsOpen ? 'arrow-down' : 'arrow-up') }))),\n            React.createElement(\"ul\", null, renderMenu('', accountMenuItems, slim, state, dispatch, navigate)))));\n};\nexports.Menu = Menu;\nvar MainMenuModuleDefinition = /** @class */ (function () {\n    function MainMenuModuleDefinition(menuItems, accountMenuItems, user) {\n        this.menuItems = menuItems;\n        this.accountMenuItems = accountMenuItems;\n        this.user = user;\n    }\n    MainMenuModuleDefinition.prototype.render = function (_a) {\n        var slim = _a.slim, expandingOrCollapsing = _a.expandingOrCollapsing, key = _a.key, currentPath = _a.currentPath, strings = _a.strings, navigate = _a.navigate;\n        return (React.createElement(exports.Menu, { menuItems: this.menuItems, accountMenuItems: this.accountMenuItems, user: this.user, slim: slim, expandingOrCollapsing: expandingOrCollapsing, key: key, currentPath: currentPath, strings: strings, navigate: navigate }));\n    };\n    return MainMenuModuleDefinition;\n}());\nexports.MainMenuModuleDefinition = MainMenuModuleDefinition;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.SearchModuleDefinition = exports.SearchInput = void 0;\nvar React = __importStar(require(\"react\"));\nvar Icon_1 = __importDefault(require(\"../../Icon/Icon\"));\nvar SearchInput = function (_a) {\n    var slim = _a.slim, expandingOrCollapsing = _a.expandingOrCollapsing, searchUrl = _a.searchUrl, strings = _a.strings, navigate = _a.navigate;\n    var isVisible = !slim || expandingOrCollapsing;\n    var onSubmitForm = function (e) {\n        if (e.target instanceof HTMLFormElement) {\n            e.preventDefault();\n            if (isVisible) {\n                var inputElement = e.target.querySelector('input[name=\"q\"]');\n                navigate(searchUrl + '?q=' + encodeURIComponent(inputElement.value));\n            }\n            else {\n                navigate(searchUrl);\n            }\n        }\n    };\n    var className = ('sidebar-search'\n        + (slim ? ' sidebar-search--slim' : '')\n        + (isVisible ? ' sidebar-search--visible' : ''));\n    return (React.createElement(\"form\", { role: \"search\", className: className, action: searchUrl, method: \"get\", onSubmit: onSubmitForm },\n        React.createElement(\"label\", { className: \"sidebar-search__label\", htmlFor: \"menu-search-q\" }, strings.SEARCH),\n        React.createElement(\"input\", { className: \"sidebar-search__input\", type: \"text\", id: \"menu-search-q\", name: \"q\", placeholder: strings.SEARCH }),\n        React.createElement(\"button\", { className: \"button sidebar-search__submit\", type: \"submit\", \"aria-label\": strings.SEARCH },\n            React.createElement(Icon_1[\"default\"], { className: \"icon--menuitem\", name: \"search\" }))));\n};\nexports.SearchInput = SearchInput;\nvar SearchModuleDefinition = /** @class */ (function () {\n    function SearchModuleDefinition(searchUrl) {\n        this.searchUrl = searchUrl;\n    }\n    SearchModuleDefinition.prototype.render = function (_a) {\n        var slim = _a.slim, key = _a.key, expandingOrCollapsing = _a.expandingOrCollapsing, strings = _a.strings, navigate = _a.navigate;\n        return (React.createElement(exports.SearchInput, { searchUrl: this.searchUrl, slim: slim, key: key, expandingOrCollapsing: expandingOrCollapsing, strings: strings, navigate: navigate }));\n    };\n    return SearchModuleDefinition;\n}());\nexports.SearchModuleDefinition = SearchModuleDefinition;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nexports.__esModule = true;\nexports.WagtailBrandingModuleDefinition = void 0;\nvar React = __importStar(require(\"react\"));\nvar WagtailBranding = function (_a) {\n    var homeUrl = _a.homeUrl, images = _a.images, strings = _a.strings, currentPath = _a.currentPath, navigate = _a.navigate;\n    var brandingLogo = React.useMemo(function () {\n        return document.querySelector('[data-wagtail-sidebar-branding-logo]');\n    }, []);\n    var hasCustomBranding = brandingLogo && brandingLogo.innerHTML !== '';\n    var onClick = function (e) {\n        // Do not capture click events with modifier keys or non-main buttons.\n        if (e.ctrlKey ||\n            e.shiftKey ||\n            e.metaKey ||\n            (e.button && e.button !== 0)) {\n            return;\n        }\n        e.preventDefault();\n        navigate(homeUrl);\n    };\n    // Render differently if custom branding is provided.\n    // This will only ever render once, so rendering before hooks is ok.\n    if (hasCustomBranding) {\n        return (React.createElement(\"a\", { className: \"sidebar-custom-branding\", href: homeUrl, \"aria-label\": strings.DASHBOARD, \"aria-current\": currentPath === homeUrl ? 'page' : undefined, dangerouslySetInnerHTML: { __html: brandingLogo ? brandingLogo.innerHTML : '' } }));\n    }\n    // Tail wagging\n    // If the pointer changes direction 8 or more times without leaving, wag the tail!\n    var lastMouseX = React.useRef(0);\n    var lastDir = React.useRef('r');\n    var dirChangeCount = React.useRef(0);\n    var _b = __read(React.useState(false), 2), isWagging = _b[0], setIsWagging = _b[1];\n    var onMouseMove = function (e) {\n        var mouseX = e.pageX;\n        var dir = (mouseX > lastMouseX.current) ? 'r' : 'l';\n        if (mouseX !== lastMouseX.current && dir !== lastDir.current) {\n            dirChangeCount.current += 1;\n        }\n        if (dirChangeCount.current > 8) {\n            setIsWagging(true);\n        }\n        lastMouseX.current = mouseX;\n        lastDir.current = dir;\n    };\n    var onMouseLeave = function () {\n        setIsWagging(false);\n        dirChangeCount.current = 0;\n    };\n    var desktopClassName = ('sidebar-wagtail-branding'\n        + (isWagging ? ' sidebar-wagtail-branding--wagging' : ''));\n    return (React.createElement(\"a\", { className: desktopClassName, href: homeUrl, \"aria-label\": strings.DASHBOARD, \"aria-current\": currentPath === homeUrl ? 'page' : undefined, onClick: onClick, onMouseMove: onMouseMove, onMouseLeave: onMouseLeave },\n        React.createElement(\"div\", { className: \"sidebar-wagtail-branding__icon-wrapper\" },\n            React.createElement(\"img\", { className: \"sidebar-wagtail-branding__icon\", \"data-part\": \"body\", src: images.desktopLogoBody, alt: \"\" }),\n            React.createElement(\"img\", { className: \"sidebar-wagtail-branding__icon\", \"data-part\": \"tail\", src: images.desktopLogoTail, alt: \"\" }),\n            React.createElement(\"img\", { className: \"sidebar-wagtail-branding__icon\", \"data-part\": \"eye--open\", src: images.desktopLogoEyeOpen, alt: \"\" }),\n            React.createElement(\"img\", { className: \"sidebar-wagtail-branding__icon\", \"data-part\": \"eye--closed\", src: images.desktopLogoEyeClosed, alt: \"\" }))));\n};\nvar WagtailBrandingModuleDefinition = /** @class */ (function () {\n    function WagtailBrandingModuleDefinition(homeUrl, images) {\n        this.homeUrl = homeUrl;\n        this.images = images;\n    }\n    WagtailBrandingModuleDefinition.prototype.render = function (_a) {\n        var strings = _a.strings, key = _a.key, navigate = _a.navigate, currentPath = _a.currentPath;\n        return (React.createElement(WagtailBranding, { key: key, homeUrl: this.homeUrl, images: this.images, strings: strings, navigate: navigate, currentPath: currentPath }));\n    };\n    return WagtailBrandingModuleDefinition;\n}());\nexports.WagtailBrandingModuleDefinition = WagtailBrandingModuleDefinition;\n","\"use strict\";\nexports.__esModule = true;\nvar Sidebar_1 = require(\"../../components/Sidebar\");\nvar LinkMenuItem_1 = require(\"../../components/Sidebar/menu/LinkMenuItem\");\nvar SubMenuItem_1 = require(\"../../components/Sidebar/menu/SubMenuItem\");\nvar PageExplorerMenuItem_1 = require(\"../../components/Sidebar/menu/PageExplorerMenuItem\");\nvar WagtailBranding_1 = require(\"../../components/Sidebar/modules/WagtailBranding\");\nvar Search_1 = require(\"../../components/Sidebar/modules/Search\");\nvar MainMenu_1 = require(\"../../components/Sidebar/modules/MainMenu\");\nwindow.telepath.register('wagtail.sidebar.LinkMenuItem', LinkMenuItem_1.LinkMenuItemDefinition);\nwindow.telepath.register('wagtail.sidebar.SubMenuItem', SubMenuItem_1.SubMenuItemDefinition);\nwindow.telepath.register('wagtail.sidebar.PageExplorerMenuItem', PageExplorerMenuItem_1.PageExplorerMenuItemDefinition);\nwindow.telepath.register('wagtail.sidebar.WagtailBrandingModule', WagtailBranding_1.WagtailBrandingModuleDefinition);\nwindow.telepath.register('wagtail.sidebar.SearchModule', Search_1.SearchModuleDefinition);\nwindow.telepath.register('wagtail.sidebar.MainMenuModule', MainMenu_1.MainMenuModuleDefinition);\ndocument.addEventListener('DOMContentLoaded', function () {\n    Sidebar_1.initSidebar();\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 541;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t541: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkwagtail\"] = globalThis[\"webpackChunkwagtail\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [751], () => (__webpack_require__(41253)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [751], () => (__webpack_require__(90971)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}